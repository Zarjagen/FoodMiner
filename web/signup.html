<!DOCTYPE html>
<html lang="en">
	<head>
		<title>SignUp</title>

		<link href="css/bootstrap.min.css" rel="stylesheet">
		<link href="css/signup.css" rel="stylesheet">
		<link href="css/style.css" rel="stylesheet">

		<script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
		<script src= "js/bootstrap.min.js"></script>
		<script type = "text/javascript"> 
  			$(document).ready(function() {

  				$(document).ajaxError(function() {
		        	alert("Sorry, there was a problem!");
		        });


  				$("#submit").click(function() {
  					$("#signup-form").on("submit", function(e){
            			e.preventDefault();
	    				if ($("#passwordBox").val() != $("#repasswordBox").val()){
	    					alert("Password Not matching!");
	    					var x = document.getElementById("passwordBox");
	    					var y = document.getElementById("repasswordBox");
	    					x.value = "";
	    					y.value = "";
	    				}
	    				else{
	    					$.ajax({
	    						url: "users/",
	    						type: "POST",
	      						dataType : "text", // this URL returns a plain text string, not JSON
	     						data : { 
	     							username: $("#usernameBox").val(),
	              	 				password: $("#passwordBox").val(),
	               					nickname: $("#nicknameBox").val(),
	               					age: $("#ageBox").val(),
	               					gender: $("#gender").val(),
	               					email: $("#emailBox").val()
	             				},
	      						success: function( data ) {
	        						if (data == 'OK') {
	        							console.log("Success!!!");
	         							$("#head").html("Successfully created a new user!\nPlease wait 5 seconds!");
	        						} else {
	          							$("#head").html(data);
	        						}
	        						setTimeout("location.href = \"http://localhost:3000/signin\"",5000);
	      						},
	    					});
	    				}
					});
  				});

        		$("#back").click(function(){
            		window.location.href = "http://localhost:3000/";
        		})
  			});
		</script>
	</head>
	<body>
		<!---- start of signup ---->
		<div class="cd-user-modal"> <!-- this is the entire modal form, including the background -->
		<div class="cd-user-modal-container"> <!-- this is the container wrapper -->
			<ul class="cd-switcher">
				<li><a href="#login">Login</a></li>
				<li><a href="#new">New account</a></li>
			</ul>

			<div id="cd-login"> <!-- log in form -->
				<form class="cd-form">
					<p class="fieldset">
						<label class="image-replace cd-email" for="signin-email">E-mail</label>
						<input class="full-width has-padding has-border" id="signin-email" type="email" placeholder="E-mail">
						<span class="cd-error-message">Error message here!</span>
					</p>

					<p class="fieldset">
						<label class="image-replace cd-password" for="signin-password">Password</label>
						<input class="full-width has-padding has-border" id="signin-password" type="text"  placeholder="Password">
						<a href="#" class="hide-password" name="preventDefault">Hide</a>
						<span class="cd-error-message">Error message here!</span>
					</p>

					<p class="fieldset">
						<input type="checkbox" id="remember-me" checked>
						<label for="remember-me">Remember me</label>
					</p>

					<p class="fieldset">
						<input class="full-width" type="submit" value="Login">
					</p>
				</form>
				
				<p class="cd-form-bottom-message"><a href="#" name="preventDefault">Forgot your password?</a></p>
				<!-- <a href="#0" class="cd-close-form">Close</a> -->
			</div> <!-- cd-login -->

			<div id="cd-signup"> <!-- sign up form -->
				<form class="cd-form">
					<p class="fieldset">
						<label class="image-replace cd-username" for="signup-username">Username</label>
						<input class="full-width has-padding has-border" id="signup-username" type="text" placeholder="Username">
						<span class="cd-error-message">Error message here!</span>
					</p>

					<p class="fieldset">
						<label class="image-replace cd-username" for="signup-username">Username</label>
						<input class="full-width has-padding has-border" id="signup-nickname" type="text" placeholder="Nickname">
						<span class="cd-error-message">Error message here!</span>
					</p>

					<p class="fieldset">
						<label class="image-replace cd-username" for="signup-username">Username</label>
						<input class="full-width has-padding has-border" id="signup-age" type="text" placeholder="Age">
						<span class="cd-error-message">Error message here!</span>
					</p>

					<p class="fieldset">
						<label class="image-replace cd-email" for="signup-email">E-mail</label>
						<input class="full-width has-padding has-border" id="signup-email" type="email" placeholder="E-mail">
						<span class="cd-error-message">Error message here!</span>
					</p>

					<p class="fieldset">
						<label class="image-replace cd-password" for="signup-password">Password</label>
						<input class="full-width has-padding has-border" id="signup-password" type="text"  placeholder="Password">
						<a href="#" class="hide-password" name="preventDefault">Hide</a>
						<span class="cd-error-message">Error message here!</span>
					</p>

					<p class="fieldset">
						<label class="image-replace cd-password" for="signup-password">Password</label>
						<input class="full-width has-padding has-border" id="signup-repassword" type="text"  placeholder="Re-Password">
						<a href="#" class="hide-password" name="preventDefault">Hide</a>
						<span class="cd-error-message">Error message here!</span>
					</p>

					<p class="fieldset">
						<label class="image-replace cd-username" for="signup-username">Username</label>
						<input class="full-width has-padding has-border" id="signup-gender" type="text" placeholder="Gender">
						<span class="cd-error-message">Error message here!</span>
					</p>

					<p class="fieldset">
						<input type="checkbox" id="accept-terms">
						<label for="accept-terms">I agree to the <a href="#Terms">Terms</a></label>
					</p>

					<p class="fieldset">
						<input class="full-width has-padding" type="submit" value="Create account">
					</p>

				</form>

				<!-- <a href="#0" class="cd-close-form">Close</a> -->
			</div> <!-- cd-signup -->

			<div id="cd-reset-password"> <!-- reset password form -->
				<p class="cd-form-message">Lost your password? Please enter your email address. You will receive a link to create a new password.</p>

				<form class="cd-form">
					<p class="fieldset">
						<label class="image-replace cd-email" for="reset-email">E-mail</label>
						<input class="full-width has-padding has-border" id="reset-email" type="email" placeholder="E-mail">
						<span class="cd-error-message">Error message here!</span>
					</p>

					<p class="fieldset">
						<input class="full-width has-padding" type="submit" value="Reset password">
					</p>
				</form>

				<p class="cd-form-bottom-message"><a href="#back">Back to log-in</a></p>
			</div> <!-- cd-reset-password -->
			<a href="#" class="cd-close-form" name="preventDefault">Close</a>
		</div> <!-- cd-user-modal-container -->
	</div> <!-- cd-user-modal -->
		<!---- end of Signup ---->
	</body>
</html>